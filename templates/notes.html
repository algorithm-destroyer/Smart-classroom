<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Portal - My Notes</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* General Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

        :root {
            --primary-blue: #0A1B4F;
            --secondary-blue: #1C3373;
            --accent-green: #2ecc71;
            --text-dark: #333;
            --text-light: #f4f7fa;
            --bg-light: #f8faff;
            --white: #ffffff;
            --grey-text: #6e7a8e;
            --shadow-light: rgba(0, 0, 0, 0.08);
            --shadow-medium: rgba(0, 0, 0, 0.15);
            --transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        body {
            background: linear-gradient(135deg, #e0f2f7, #c7e8f0);
            min-height: 100vh;
            color: var(--text-dark);
            position: relative;
            overflow-x: hidden;
        }

        /* Abstract Shapes */
        body::before, body::after {
            content: '';
            position: absolute;
            background-repeat: no-repeat;
            opacity: 0.1;
            z-index: -1;
        }
        body::before {
            width: 300px;
            height: 300px;
            top: -50px;
            left: -50px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'%3E%3Cdefs%3E%3ClinearGradient id='a' x1='0%' y1='0%' x2='100%' y2='100%'%3E%3Cstop offset='0%' stop-color='%231C3373'/%3E%3Cstop offset='100%' stop-color='%230A1B4F'/%3E%3C/linearGradient%3E%3C/defs%3E%3Ccircle cx='100' cy='100' r='90' fill='url(%23a)'/%3E%3C/svg%3E");
            transform: rotate(30deg);
            animation: moveShape1 10s infinite alternate;
        }
        body::after {
            width: 250px;
            height: 250px;
            bottom: -70px;
            right: -70px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'%3E%3Cdefs%3E%3ClinearGradient id='a' x1='0%' y1='0%' x2='100%' y2='100%'%3E%3Cstop offset='0%' stop-color='%232ecc71'/%3E%3Cstop offset='100%' stop-color='%231C3373'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cpolygon points='100,0 200,75 160,200 40,200 0,75' fill='url(%23a)'/%3E%3C/svg%3E");
            transform: rotate(-45deg);
            animation: moveShape2 12s infinite alternate-reverse;
        }
        @keyframes moveShape1 {
            from { transform: translate(-50px, -50px) rotate(30deg); }
            to { transform: translate(50px, 50px) rotate(60deg); }
        }
        @keyframes moveShape2 {
            from { transform: translate(70px, 70px) rotate(-45deg); }
            to { transform: translate(-70px, -70px) rotate(-15deg); }
        }

        /* Loading Screen */
        .loader-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--primary-blue);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.6s ease, visibility 0.6s ease;
        }
        .loader {
            width: 70px;
            height: 70px;
            border: 6px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--accent-green);
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Progress Bar */
        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 5px;
            background-color: var(--accent-green);
            box-shadow: 0 0 10px var(--accent-green);
            z-index: 1001;
            width: 0;
            transition: width 0.2s linear;
        }

        /* Back to Top Button */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 55px;
            height: 55px;
            background-color: var(--secondary-blue);
            color: var(--white);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            box-shadow: 0 5px 15px var(--shadow-medium);
            z-index: 1000;
        }
        .back-to-top:hover {
            background-color: var(--accent-green);
            transform: translateY(-8px) scale(1.05);
            box-shadow: 0 8px 20px var(--accent-green);
        }
        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        /* Navigation */
        nav {
            background-color: var(--primary-blue);
            box-shadow: 0 5px 15px var(--shadow-medium);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            transition: var(--transition);
        }
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo {
            display: flex;
            align-items: center;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--white);
            text-decoration: none;
            transition: var(--transition);
        }
        .logo:hover {
            transform: scale(1.05);
        }
        .logo i {
            margin-right: 0.5rem;
            font-size: 2.2rem;
            animation: float 3s infinite ease-in-out;
            color: var(--accent-green);
        }
        @keyframes float {
            0% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0); }
        }
        .hamburger {
            display: flex;
            flex-direction: column;
            cursor: pointer;
            padding: 5px;
            z-index: 1001;
        }
        .hamburger span {
            width: 25px;
            height: 3px;
            background-color: var(--white);
            margin: 3px 0;
            transition: var(--transition);
        }
        .hamburger.active span:nth-child(1) {
            transform: rotate(-45deg) translate(-5px, 6px);
        }
        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }
        .hamburger.active span:nth-child(3) {
            transform: rotate(45deg) translate(-5px, -6px);
        }

        /* Sidebar Menu */
        .sidebar {
            position: fixed;
            top: 70px;
            right: -300px;
            width: 300px;
            height: calc(100vh - 70px);
            background-color: var(--secondary-blue);
            transition: var(--transition);
            z-index: 999;
            overflow-y: auto;
            box-shadow: -2px 0 10px var(--shadow-medium);
        }
        .sidebar.active {
            right: 0;
        }
        .sidebar-menu {
            padding: 1.5rem 0;
        }
        .sidebar-item {
            padding: 1rem 1.5rem;
            color: var(--white);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            justify-content: space-between;
            align-items: center;
            text-decoration: none;
            position: relative;
            overflow: hidden;
        }
        .sidebar-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 100%;
            background-color: var(--accent-green);
            transition: width 0.3s ease;
            z-index: -1;
        }
        .sidebar-item:hover::before {
            width: 100%;
        }
        .sidebar-item.active {
            background-color: var(--accent-green);
        }
        .sidebar-item i {
            transition: var(--transition);
            color: var(--accent-green);
        }

        /* Main Content */
        main {
            transition: margin-right .5s;
            padding: 3rem 2rem;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }
        .container {  
            background: var(--white);
            border-radius: 20px;
            padding: 2.5rem;
            box-shadow: 0 10px 30px var(--shadow-light);
            opacity: 0;
            transform: translateY(50px);
            transition: opacity 1s cubic-bezier(0.25, 0.8, 0.25, 1), transform 1s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        .container.visible {
            opacity: 1;
            transform: translateY(0);
        }
        h1 {
            color: var(--primary-blue);
            font-size: 3rem;
            text-align: center;
            font-weight: 700;
            position: relative;
            margin-bottom: 1rem;
        }
        h1::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--secondary-blue), var(--accent-green));
            animation: expandWidth 1.8s cubic-bezier(0.25, 0.8, 0.25, 1) forwards;
            border-radius: 2px;
        }
        @keyframes expandWidth {
            from { width: 0; }
            to { width: 100%; }
        }
        p {
            color: var(--grey-text);
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 1rem;
            text-align: center;
        }

        /* Filters */
        .filter-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .subject-filter {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .subject-filter select {
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 10px;
            font-size: 1rem;
            transition: var(--transition);
            background: var(--white);
        }
        
        .subject-filter select:focus {
            border-color: var(--accent-green);
            outline: none;
            box-shadow: 0 0 0 2px rgba(46, 204, 113, 0.2);
        }
        
        .search-box {
            position: relative;
            flex-grow: 1;
            max-width: 400px;
        }
        
        .search-box input {
            width: 100%;
            padding: 0.8rem 1.5rem 0.8rem 2.5rem;
            border: 1px solid #ddd;
            border-radius: 10px;
            font-size: 1rem;
            transition: var(--transition);
        }
        
        .search-box input:focus {
            border-color: var(--accent-green);
            outline: none;
            box-shadow: 0 0 0 2px rgba(46, 204, 113, 0.2);
        }
        
        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--grey-text);
        }
        
        /* Notes Grid */
        .notes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .note-card {
            background: var(--white);
            border-radius: 12px;
            box-shadow: 0 4px 12px var(--shadow-light);
            overflow: hidden;
            transition: var(--transition);
            cursor: pointer;
            display: flex;
            flex-direction: column;
        }
        
        .note-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px var(--shadow-medium);
        }
        
        .note-header {
            padding: 1.5rem;
            background: var(--bg-light);
            border-bottom: 1px solid #ddd;
        }
        
        .note-title {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--text-dark);
        }
        
        .note-subject {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            background: var(--primary-blue);
            color: var(--white);
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 500;
            margin-bottom: 0.625rem;
        }
        
        .note-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.875rem;
            color: var(--grey-text);
        }
        
        .note-teacher {
            font-weight: 500;
        }
        
        .note-date {
            font-style: italic;
        }
        
        .note-content {
            padding: 1.5rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        .note-description {
            color: var(--grey-text);
            line-height: 1.5;
            margin-bottom: 0.9375rem;
            flex-grow: 1;
        }
        
        .note-footer {
            padding: 0 1.5rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .note-actions {
            display: flex;
            gap: 0.625rem;
        }
        
        .note-btn {
            padding: 0.375rem 0.75rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            font-size: 0.875rem;
            transition: var(--transition);
        }
        
        .view-btn {
            background: var(--primary-blue);
            color: var(--white);
        }
        
        .view-btn:hover {
            background: var(--secondary-blue);
        }
        
        .download-btn {
            background: var(--accent-green);
            color: var(--white);
        }
        
        .download-btn:hover {
            background: #27ae60;
        }
        
        .note-status {
            font-size: 0.875rem;
            font-weight: 500;
        }
        
        .status-new {
            color: #ff9800;
        }
        
        .status-read {
            color: #2e7d32;
        }
        
        /* Note Detail Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            animation: fadeIn 0.3s;
        }
        
        .modal-content {
            background-color: var(--white);
            margin: 5% auto;
            padding: 0;
            border-radius: 12px;
            width: 80%;
            max-width: 800px;
            max-height: 85vh;
            overflow: hidden;
            box-shadow: 0 8px 24px var(--shadow-medium);
            animation: slideIn 0.3s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .modal-header {
            padding: 1.25rem;
            background: var(--primary-blue);
            color: var(--white);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-title {
            font-size: 1.375rem;
            font-weight: 600;
        }
        
        .close {
            color: var(--white);
            font-size: 1.75rem;
            font-weight: bold;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .close:hover {
            transform: rotate(90deg);
        }
        
        .modal-body {
            padding: 1.5625rem;
            max-height: calc(85vh - 140px);
            overflow-y: auto;
        }
        
        .modal-subject {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            background: var(--primary-blue);
            color: var(--white);
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 500;
            margin-bottom: 0.9375rem;
        }
        
        .modal-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1.25rem;
            font-size: 0.875rem;
            color: var(--grey-text);
        }
        
        .modal-teacher {
            font-weight: 500;
        }
        
        .modal-date {
            font-style: italic;
        }
        
        .modal-text {
            line-height: 1.6;
            color: var(--text-dark);
            white-space: pre-wrap;
        }
        
        .modal-footer {
            padding: 0.9375rem 1.5625rem;
            background: var(--bg-light);
            border-top: 1px solid #ddd;
            display: flex;
            justify-content: flex-end;
            gap: 0.625rem;
        }
        
        /* No data message */
        .no-data {
            text-align: center;
            padding: 3.75rem 1.25rem;
            color: var(--grey-text);
        }
        
        .no-data-icon {
            font-size: 4rem;
            margin-bottom: 1.25rem;
            color: #ccc;
        }
        
        .no-data h3 {
            font-size: 1.25rem;
            font-weight: 500;
            margin-bottom: 0.625rem;
            color: var(--text-dark);
        }
        
        .no-data p {
            font-size: 1rem;
            margin-bottom: 0;
        }

        /* Responsive */
        @media (max-width: 768px) {
            main {
                padding: 1.5rem;
            }
            .container {
                padding: 2rem;
            }
            h1 {
                font-size: 2.5rem;
            }
            p {
                font-size: 1rem;
            }
            .filter-container {
                flex-direction: column;
            }
            .search-box {
                max-width: 100%;
            }
            .back-to-top {
                width: 45px;
                height: 45px;
                bottom: 20px;
                right: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loader-container" id="loader">
        <div class="loader"></div>
    </div>
    <!-- Progress Bar -->
    <div class="progress-bar" id="progressBar"></div>
    <!-- Back to Top Button -->
    <div class="back-to-top" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </div>
    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <a href="student home.html" class="logo">
                <i class="fas fa-graduation-cap"></i>
                Student Portal
            </a>
            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>
    <!-- Sidebar Menu -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-menu">
            <a href="home" class="sidebar-item">
                <span>Home</span>
                <i class="fas fa-home"></i>
            </a>
            <a href="attendance.html" class="sidebar-item">
                <span>Attendance</span>
                <i class="fas fa-user-check"></i>
            </a>
            <a href="assignment.html" class="sidebar-item">
                <span>Assignment</span>
                <i class="fas fa-calendar-alt"></i>
            </a>
            <a href="recorded_class.html" class="sidebar-item">
                <span>Recorded Classes</span>
                <i class="fas fa-video"></i>
            </a>
            <a href="notes.html" class="sidebar-item active">
                <span>Notes</span>
                <i class="fas fa-sticky-note"></i>
            </a>
            <a href="notices.html" class="sidebar-item">
                <span>Notices</span>
                <i class="fas fa-bell"></i>
            </a>
            <a href="profile.html" class="sidebar-item">
                <span>Your Profile</span>
                <i class="fas fa-user"></i>
            </a>
            <a href="academic_profile.html" class="sidebar-item">
                <span>Academic Profile</span>
                <i class="fas fa-graduation-cap"></i>
            </a>
            <a href="settings.html" class="sidebar-item">
                <span>Settings</span>
                <i class="fas fa-cog"></i>
            </a>
        </div>
    </div>
    <!-- Main Content -->
    <main>
        <div class="container">
            <h1>My Notes</h1>
            <p>View and download notes uploaded by your teachers</p>
            
            <!-- Filters -->
            <div class="filter-container">
                <div class="subject-filter">
                    <label for="subject-select">Subject:</label>
                    <select id="subject-select" onchange="filterNotes()">
                        <option value="all">All Subjects</option>
                        <option value="Mathematics">Mathematics</option>
                        <option value="Science">Science</option>
                        <option value="English">English</option>
                        <option value="History">History</option>
                        <option value="Geography">Geography</option>
                        <option value="Computer Science">Computer Science</option>
                    </select>
                </div>
                
                <div class="search-box">
                    <span class="search-icon">üîç</span>
                    <input type="text" id="search-input" placeholder="Search notes by title or content..." onkeyup="filterNotes()">
                </div>
            </div>
            
            <!-- Notes Grid -->
            <div id="notes-grid" class="notes-grid">
                <!-- Notes will be populated here -->
            </div>
            
            <!-- No Data Message -->
            <div id="no-data" class="no-data" style="display: none;">
                <div class="no-data-icon">üìù</div>
                <h3>No Notes Found</h3>
                <p>There are no notes available at the moment. Check back later!</p>
            </div>
        </div>
    </main>
    
    <!-- Note Detail Modal -->
    <div id="note-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title" id="modal-title">Note Title</div>
                <span class="close" onclick="closeModal()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="modal-subject" id="modal-subject">Subject</div>
                <div class="modal-meta">
                    <div class="modal-teacher" id="modal-teacher">Teacher Name</div>
                    <div class="modal-date" id="modal-date">Date</div>
                </div>
                <div class="modal-text" id="modal-text">Note content will appear here...</div>
            </div>
            <div class="modal-footer">
                <button class="note-btn download-btn" onclick="downloadNote()">Download Note</button>
                <button class="note-btn view-btn" onclick="closeModal()">Close</button>
            </div>
        </div>
    </div>
    
    <script>
        // Database simulation using localStorage
        const db = {
            // Get all notes
            getNotes: function() {
                try {
                    const notes = localStorage.getItem('teacherNotes');
                    return notes ? JSON.parse(notes) : this.getSampleNotes();
                } catch (error) {
                    console.error("Error getting notes from localStorage:", error);
                    return this.getSampleNotes();
                }
            },
            
            // Get sample notes for demonstration
            getSampleNotes: function() {
                return [
                    {
                        id: 1,
                        title: "Introduction to Algebra",
                        subject: "Mathematics",
                        teacher: "Dr. Smith",
                        date: "2023-09-15",
                        content: "Algebra is a branch of mathematics dealing with symbols and the rules for manipulating those symbols. In elementary algebra, those symbols (today written as Latin and Greek letters) represent quantities without fixed values, known as variables.\n\nKey Concepts:\n1. Variables and Constants\n2. Expressions and Equations\n3. Solving Linear Equations\n4. Graphing Linear Functions\n\nVariables: A variable is a symbol (usually a letter) that represents a quantity that can vary. For example, in the equation x + 2 = 5, x is a variable.\n\nConstants: A constant is a value that does not change. In the same equation, 2 and 5 are constants.\n\nExpressions: An algebraic expression is a combination of variables, constants, and operations. For example, 3x + 4 is an expression.\n\nEquations: An equation is a statement that two expressions are equal. For example, 3x + 4 = 10 is an equation.",
                        description: "Basic concepts of algebra including variables, expressions, and equations.",
                        isNew: false
                    },
                    {
                        id: 2,
                        title: "Cell Structure and Function",
                        subject: "Science",
                        teacher: "Prof. Johnson",
                        date: "2023-09-18",
                        content: "Cells are the basic building blocks of all living things. The human body is composed of trillions of cells. They provide structure for the body, take in nutrients from food, convert those nutrients into energy, and carry out specialized functions.\n\nCell Theory:\n1. All living organisms are composed of one or more cells.\n2. The cell is the basic unit of structure and organization in organisms.\n3. All cells arise from pre-existing cells.\n\nCell Structure:\n- Cell Membrane: The outer covering of the cell that controls what enters and leaves the cell.\n- Cytoplasm: The jelly-like substance within the cell where most cellular activities occur.\n- Nucleus: The control center of the cell that contains DNA.\n- Mitochondria: The powerhouse of the cell that produces energy.\n- Ribosomes: Responsible for protein synthesis.\n- Endoplasmic Reticulum: Involved in protein and lipid synthesis.\n- Golgi Apparatus: Modifies, sorts, and packages proteins and lipids.",
                        description: "Overview of cell structure and function in living organisms.",
                        isNew: true
                    },
                    {
                        id: 3,
                        title: "Shakespeare's Hamlet - Analysis",
                        subject: "English",
                        teacher: "Ms. Williams",
                        date: "2023-09-20",
                        content: "Hamlet, Prince of Denmark, is a tragedy by William Shakespeare. It is one of his best-known works, and is considered one of the most powerful and influential tragedies in the English language.\n\nPlot Summary:\nThe play opens with the ghost of the King of Denmark telling his son, Prince Hamlet, that he was murdered by his own brother, Claudius, who then took the throne and married Hamlet's mother. The ghost urges Hamlet to avenge his death.\n\nThemes:\n1. Revenge: The central theme of the play is Hamlet's quest for revenge against his uncle Claudius.\n2. Madness: Hamlet's feigned (or real) madness is a major theme throughout the play.\n3. Mortality: The play explores the nature of life and death, with Hamlet contemplating suicide in his famous 'To be or not to be' soliloquy.\n4. Deception: Characters in the play frequently deceive one another, leading to tragic consequences.\n\nKey Characters:\n- Hamlet: The Prince of Denmark, protagonist of the play.\n- Claudius: Hamlet's uncle and the new King of Denmark.\n- Gertrude: Hamlet's mother and Queen of Denmark.\n- Ophelia: Daughter of Polonius and Hamlet's love interest.\n- Polonius: Chief counselor to King Claudius.",
                        description: "Detailed analysis of Shakespeare's tragedy Hamlet, including themes and characters.",
                        isNew: false
                    },
                    {
                        id: 4,
                        title: "World War II - Causes and Consequences",
                        subject: "History",
                        teacher: "Dr. Brown",
                        date: "2023-09-22",
                        content: "World War II was a global war that lasted from 1939 to 1945. It involved the vast majority of the world's countries‚Äîincluding all the great powers‚Äîforming two opposing military alliances: the Allies and the Axis.\n\nCauses of World War II:\n1. Treaty of Versailles: The harsh terms imposed on Germany after World War I created resentment and economic hardship.\n2. Rise of Fascism: The rise of fascist regimes in Italy, Germany, and Japan promoted aggressive expansionism.\n3. Failure of Appeasement: The policy of giving in to Hitler's demands in the hope of avoiding war only encouraged further aggression.\n4. Invasion of Poland: Germany's invasion of Poland in 1939 was the immediate trigger for the war.\n\nMajor Events:\n- 1939: Germany invades Poland, starting WWII.\n- 1940: Fall of France; Battle of Britain.\n- 1941: Germany invades the Soviet Union; Japan attacks Pearl Harbor, bringing the US into the war.\n- 1942-1943: Turning points at Stalingrad and Midway.\n- 1944: D-Day landings in Normandy.\n- 1945: Germany surrenders in May; Japan surrenders in August after atomic bombs are dropped on Hiroshima and Nagasaki.\n\nConsequences:\n- Estimated 70-85 million people died, making it the deadliest conflict in human history.\n- The United Nations was established to prevent future conflicts.\n- The Cold War began between the US and Soviet Union.\n- Decolonization movements accelerated in Asia and Africa.",
                        description: "Comprehensive overview of World War II, including causes, major events, and consequences.",
                        isNew: true
                    },
                    {
                        id: 5,
                        title: "Plate Tectonics and Continental Drift",
                        subject: "Geography",
                        teacher: "Prof. Davis",
                        date: "2023-09-25",
                        content: "Plate tectonics is a scientific theory describing the large-scale motion of Earth's lithosphere. The theory builds on the concept of continental drift, an idea developed in the early 20th century.\n\nContinental Drift Theory:\nProposed by Alfred Wegener in 1912, the theory suggests that continents were once joined together in a supercontinent called Pangaea, which later broke apart and drifted to their current positions.\n\nEvidence for Continental Drift:\n1. Fossil Evidence: Similar fossils found on different continents that are now separated by oceans.\n2. Rock Formations and Mountain Ranges: Matching rock types and geological structures on different continents.\n3. Climate Evidence: Evidence of past climates that don't match current locations.\n4. Continental Fit: The coastlines of continents like South America and Africa fit together like puzzle pieces.\n\nPlate Tectonics Theory:\nDeveloped in the 1960s, this theory explains how Earth's lithosphere is divided into several plates that move over the asthenosphere.\n\nTypes of Plate Boundaries:\n1. Divergent Boundaries: Plates move apart, creating new crust as magma rises to the surface (e.g., Mid-Atlantic Ridge).\n2. Convergent Boundaries: Plates move toward each other, leading to subduction or collision (e.g., Andes Mountains, Himalayas).\n3. Transform Boundaries: Plates slide past each other (e.g., San Andreas Fault).\n\nConsequences of Plate Tectonics:\n- Earthquakes and volcanic activity\n- Formation of mountains and ocean trenches\n- Creation of new crust and destruction of old crust\n- Continental drift and changing positions of continents over millions of years",
                        description: "Explanation of plate tectonics theory and evidence for continental drift.",
                        isNew: false
                    },
                    {
                        id: 6,
                        title: "Introduction to Python Programming",
                        subject: "Computer Science",
                        teacher: "Mr. Miller",
                        date: "2023-09-28",
                        content: "Python is a high-level, interpreted programming language known for its simplicity and readability. It was created by Guido van Rossum and first released in 1991.\n\nWhy Learn Python?\n1. Simple and Readable: Python's syntax is clean and easy to understand, making it great for beginners.\n2. Versatile: Python can be used for web development, data analysis, artificial intelligence, scientific computing, and more.\n3. Large Community: Python has a vast and active community, providing plenty of resources and support.\n4. Extensive Libraries: Python has a rich ecosystem of libraries for various tasks.\n\nBasic Python Syntax:\n```python\n# This is a comment\nprint('Hello, World!')  # Output text\n\n# Variables\nname = 'Alice'\nage = 25\nheight = 5.6\nis_student = True\n\n# Data types\nprint(type(name))    # <class 'str'>\nprint(type(age))     # <class 'int'>\nprint(type(height))  # <class 'float'>\nprint(type(is_student))  # <class 'bool'>\n\n# Lists\nfruits = ['apple', 'banana', 'cherry']\nprint(fruits[0])  # 'apple'\n\n# Dictionaries\nperson = {\n    'name': 'Bob',\n    'age': 30,\n    'city': 'New York'\n}\nprint(person['name'])  # 'Bob'\n\n# Conditional statements\nif age >= 18:\n    print('You are an adult')\nelse:\n    print('You are a minor')\n\n# Loops\nfor fruit in fruits:\n    print(fruit)\n\ni = 0\nwhile i < 5:\n    print(i)\n    i += 1\n\n# Functions\ndef greet(name):\n    return f'Hello, {name}!'\n\nprint(greet('Charlie'))  # 'Hello, Charlie!'\n```\n\nGetting Started with Python:\n1. Install Python from python.org\n2. Choose an IDE or text editor (PyCharm, VS Code, Jupyter Notebook)\n3. Write your first program: print('Hello, World!')\n4. Practice with basic concepts and gradually move to more complex topics",
                        description: "Introduction to Python programming language with basic syntax and examples.",
                        isNew: true
                    }
                ];
            },
            
            // Mark a note as read
            markNoteAsRead: function(noteId) {
                try {
                    const notes = this.getNotes();
                    const noteIndex = notes.findIndex(note => note.id === noteId);
                    
                    if (noteIndex !== -1) {
                        notes[noteIndex].isNew = false;
                        localStorage.setItem('teacherNotes', JSON.stringify(notes));
                        return true;
                    }
                    
                    return false;
                } catch (error) {
                    console.error("Error marking note as read:", error);
                    return false;
                }
            }
        };
        
        // Current note being viewed
        let currentNote = null;
        
        // Sidebar functions
        function openNav() { 
            document.getElementById("sidebar").classList.toggle('active');
            document.getElementById("hamburger").classList.toggle('active');
        } 
        
        function closeNav() { 
            document.getElementById("sidebar").classList.remove('active');
            document.getElementById("hamburger").classList.remove('active');
        } 
        
        // Load and display notes
        function loadNotes() {
            const notes = db.getNotes();
            const notesGrid = document.getElementById('notes-grid');
            const noData = document.getElementById('no-data');
            
            notesGrid.innerHTML = '';
            
            if (notes.length === 0) {
                notesGrid.style.display = 'none';
                noData.style.display = 'block';
                return;
            }
            
            notesGrid.style.display = 'grid';
            noData.style.display = 'none';
            
            notes.forEach(note => {
                const noteCard = document.createElement('div');
                noteCard.className = 'note-card';
                noteCard.onclick = () => openNoteModal(note);
                
                noteCard.innerHTML = `
                    <div class="note-header">
                        <div class="note-title">${note.title}</div>
                        <div class="note-subject">${note.subject}</div>
                        <div class="note-meta">
                            <div class="note-teacher">${note.teacher}</div>
                            <div class="note-date">${note.date}</div>
                        </div>
                    </div>
                    <div class="note-content">
                        <div class="note-description">${note.description}</div>
                    </div>
                    <div class="note-footer">
                        <div class="note-actions">
                            <button class="note-btn view-btn" onclick="event.stopPropagation(); openNoteModal(${JSON.stringify(note).replace(/"/g, '&quot;')})">View</button>
                            <button class="note-btn download-btn" onclick="event.stopPropagation(); downloadNote(${JSON.stringify(note).replace(/"/g, '&quot;')})">Download</button>
                        </div>
                        <div class="note-status ${note.isNew ? 'status-new' : 'status-read'}">
                            ${note.isNew ? 'New' : 'Read'}
                        </div>
                    </div>
                `;
                
                notesGrid.appendChild(noteCard);
            });
        }
        
        // Filter notes based on subject and search input
        function filterNotes() {
            const subjectFilter = document.getElementById('subject-select').value;
            const searchInput = document.getElementById('search-input').value.toLowerCase();
            const notes = db.getNotes();
            const notesGrid = document.getElementById('notes-grid');
            const noData = document.getElementById('no-data');
            
            notesGrid.innerHTML = '';
            
            // Filter notes
            const filteredNotes = notes.filter(note => {
                const matchesSubject = subjectFilter === 'all' || note.subject === subjectFilter;
                const matchesSearch = note.title.toLowerCase().includes(searchInput) || 
                                      note.description.toLowerCase().includes(searchInput) ||
                                      note.content.toLowerCase().includes(searchInput);
                return matchesSubject && matchesSearch;
            });
            
            if (filteredNotes.length === 0) {
                notesGrid.style.display = 'none';
                noData.style.display = 'block';
                return;
            }
            
            notesGrid.style.display = 'grid';
            noData.style.display = 'none';
            
            filteredNotes.forEach(note => {
                const noteCard = document.createElement('div');
                noteCard.className = 'note-card';
                noteCard.onclick = () => openNoteModal(note);
                
                noteCard.innerHTML = `
                    <div class="note-header">
                        <div class="note-title">${note.title}</div>
                        <div class="note-subject">${note.subject}</div>
                        <div class="note-meta">
                            <div class="note-teacher">${note.teacher}</div>
                            <div class="note-date">${note.date}</div>
                        </div>
                    </div>
                    <div class="note-content">
                        <div class="note-description">${note.description}</div>
                    </div>
                    <div class="note-footer">
                        <div class="note-actions">
                            <button class="note-btn view-btn" onclick="event.stopPropagation(); openNoteModal(${JSON.stringify(note).replace(/"/g, '&quot;')})">View</button>
                            <button class="note-btn download-btn" onclick="event.stopPropagation(); downloadNote(${JSON.stringify(note).replace(/"/g, '&quot;')})">Download</button>
                        </div>
                        <div class="note-status ${note.isNew ? 'status-new' : 'status-read'}">
                            ${note.isNew ? 'New' : 'Read'}
                        </div>
                    </div>
                `;
                
                notesGrid.appendChild(noteCard);
            });
        }
        
        // Open note detail modal
        function openNoteModal(note) {
            currentNote = note;
            
            // Mark note as read
            db.markNoteAsRead(note.id);
            
            // Update modal content
            document.getElementById('modal-title').textContent = note.title;
            document.getElementById('modal-subject').textContent = note.subject;
            document.getElementById('modal-teacher').textContent = note.teacher;
            document.getElementById('modal-date').textContent = note.date;
            document.getElementById('modal-text').textContent = note.content;
            
            // Show modal
            document.getElementById('note-modal').style.display = 'block';
            
            // Refresh notes to update status
            loadNotes();
        }
        
        // Close modal
        function closeModal() {
            document.getElementById('note-modal').style.display = 'none';
            currentNote = null;
        }
        
        // Download note as text file
        function downloadNote(note = currentNote) {
            if (!note) return;
            
            const content = `Title: ${note.title}\nSubject: ${note.subject}\nTeacher: ${note.teacher}\nDate: ${note.date}\n\n${note.content}`;
            
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${note.title.replace(/\s+/g, '_')}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
        
        // Close modal when clicking outside of it
        window.onclick = function(event) {
            const modal = document.getElementById('note-modal');
            if (event.target === modal) {
                closeModal();
            }
        }
        
        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            loadNotes();
            setTimeout(function() {
                document.getElementById('loader').style.opacity = '0';
                document.getElementById('loader').style.visibility = 'hidden';
                document.querySelectorAll('.container').forEach(section => {
                    section.classList.add('visible');
                });
            }, 1000);
        });

        // Progress Bar
        window.addEventListener('scroll', function() {
            const scrollPosition = window.scrollY;
            const documentHeight = document.documentElement.scrollHeight - window.innerHeight;
            const scrollPercentage = documentHeight > 0 ? (scrollPosition / documentHeight) * 100 : 0;
            document.getElementById('progressBar').style.width = scrollPercentage + '%';
        });

        // Back to Top Button
        const backToTopButton = document.getElementById('backToTop');
        window.addEventListener('scroll', function() {
            if (window.scrollY > 400) {
                backToTopButton.classList.add('visible');
            } else {
                backToTopButton.classList.remove('visible');
            }
        });
        backToTopButton.addEventListener('click', function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // Hamburger Menu Toggle
        const hamburger = document.getElementById('hamburger');
        const sidebar = document.getElementById('sidebar');
        hamburger.addEventListener('click', function() {
            hamburger.classList.toggle('active');
            sidebar.classList.toggle('active');
        });
    </script>
</body>
</html>